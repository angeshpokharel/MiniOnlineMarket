{"ast":null,"code":"var _jsxFileName = \"/Users/wineikhaing/Desktop/MIU/WAA/Project/Code/MiniOnlineMarket/mom/src/pages/seller/component/OrderDetails/StatusUpdate.js\";\nimport React, { useRef, useEffect } from \"react\";\nimport useHttp from '../../../../hooks/use-http';\nimport { updateOrderStatus } from '../../../../lib/api';\n\nconst StatusUpdate = props => {\n  const statusSelect = useRef(null);\n  const {\n    sendRequest,\n    status,\n    error\n  } = useHttp(updateOrderStatus);\n  const {\n    onStatusUpdate\n  } = props;\n  const {\n    id\n  } = props;\n  useEffect(() => {\n    if (status === 'completed' && !error) {\n      onStatusUpdate();\n    }\n  }, [status, error, onStatusUpdate]);\n\n  const onChangeHandler = event => {\n    event.preventDefault();\n    const newStatus = statusSelect.current.value;\n    console.log(\"Nice \" + id);\n    sendRequest({\n      status: {\n        text: newStatus\n      },\n      orderId: id\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"select\", {\n    ref: statusSelect,\n    className: \"form-control\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    defaultValue: props.status,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, props.status), React.createElement(\"option\", {\n    value: \"REJECTED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"NEW\"), React.createElement(\"option\", {\n    value: \"REJECTED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"REJECTED\"), React.createElement(\"option\", {\n    value: \"SHIPPED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"SHIPPED\"), React.createElement(\"option\", {\n    value: \"DELIVERED\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"DELIVERED\")), React.createElement(\"input\", {\n    type: \"button\",\n    value: \"UPDATE\",\n    onClick: onChangeHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }));\n};\n\nexport default StatusUpdate;","map":{"version":3,"sources":["/Users/wineikhaing/Desktop/MIU/WAA/Project/Code/MiniOnlineMarket/mom/src/pages/seller/component/OrderDetails/StatusUpdate.js"],"names":["React","useRef","useEffect","useHttp","updateOrderStatus","StatusUpdate","props","statusSelect","sendRequest","status","error","onStatusUpdate","id","onChangeHandler","event","preventDefault","newStatus","current","value","console","log","text","orderId"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,MAAf,EAAuBC,SAAvB,QAAwC,OAAxC;AACA,OAAOC,OAAP,MAAoB,4BAApB;AACA,SAAQC,iBAAR,QAAgC,qBAAhC;;AAGA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE5B,QAAMC,YAAY,GAAGN,MAAM,CAAC,IAAD,CAA3B;AAEA,QAAM;AAACO,IAAAA,WAAD;AAAcC,IAAAA,MAAd;AAAsBC,IAAAA;AAAtB,MAA+BP,OAAO,CAACC,iBAAD,CAA5C;AAEA,QAAM;AAACO,IAAAA;AAAD,MAAmBL,KAAzB;AACA,QAAM;AAACM,IAAAA;AAAD,MAAON,KAAb;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIO,MAAM,KAAK,WAAX,IAA0B,CAACC,KAA/B,EAAsC;AAClCC,MAAAA,cAAc;AACjB;AACF,GAJM,EAIJ,CAACF,MAAD,EAASC,KAAT,EAAgBC,cAAhB,CAJI,CAAT;;AAQA,QAAME,eAAe,GAAIC,KAAD,IAAW;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,SAAS,GAAGT,YAAY,CAACU,OAAb,CAAqBC,KAAvC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAUR,EAAtB;AACAJ,IAAAA,WAAW,CAAC;AAACC,MAAAA,MAAM,EAAG;AAACY,QAAAA,IAAI,EAAEL;AAAP,OAAV;AAA6BM,MAAAA,OAAO,EAAEV;AAAtC,KAAD,CAAX;AACH,GALD;;AAMA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAK;AAAQ,IAAA,GAAG,EAAEL,YAAb;AAA2B,IAAA,SAAS,EAAC,cAArC;AAAoD,IAAA,QAAQ,MAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG;AAAQ,IAAA,YAAY,EAAED,KAAK,CAACG,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqCH,KAAK,CAACG,MAA3C,CADH,EAEG;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFH,EAGG;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,EAIG;AAAQ,IAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAJH,EAKG;AAAQ,IAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALH,CAAL,EAOI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAoC,IAAA,OAAO,EAAEI,eAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADJ;AAaH,CApCD;;AAsCA,eAAeR,YAAf","sourcesContent":["import React, {useRef, useEffect}  from \"react\";\nimport useHttp from '../../../../hooks/use-http'\nimport {updateOrderStatus} from '../../../../lib/api'\n\n\nconst StatusUpdate = (props) => {\n\n    const statusSelect = useRef(null);\n\n    const {sendRequest, status, error} = useHttp(updateOrderStatus)\n\n    const {onStatusUpdate} = props;\n    const {id} = props;\n\n    useEffect(() => {\n        if (status === 'completed' && !error) {\n            onStatusUpdate();\n        }\n      }, [status, error, onStatusUpdate]);\n\n    \n\n    const onChangeHandler = (event) => {\n        event.preventDefault();\n        const newStatus = statusSelect.current.value;\n        console.log(\"Nice \" + id);\n        sendRequest({status : {text: newStatus}, orderId: id})\n    }\n    return (\n        <div><select ref={statusSelect} className=\"form-control\" required >\n                <option defaultValue={props.status}>{props.status}</option>\n                <option value=\"REJECTED\">NEW</option>\n                <option value=\"REJECTED\">REJECTED</option>\n                <option value=\"SHIPPED\">SHIPPED</option>\n                <option value=\"DELIVERED\">DELIVERED</option>\n            </select>\n            <input type=\"button\" value=\"UPDATE\" onClick={onChangeHandler} />\n        </div>\n    );\n\n    \n};\n\nexport default StatusUpdate;"]},"metadata":{},"sourceType":"module"}